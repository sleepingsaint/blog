<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<title>sleepingsaint | Set Matrix Zeroes</title>
<link rel=stylesheet href=https://sleepingsaint.github.io/blog/css/index.css>
</head>
<body>
<div class=navbar-container>
<h1>sleepingsaint</h1>
<div>
<a href=https://sleepingsaint.github.io/blog/>Home</a>
<a href=https://sleepingsaint.github.io/blog/posts/>Posts</a>
<a href=https://sleepingsaint.github.io/blog/series/>Series</a>
<a href=https://sleepingsaint.github.io/blog/tags/>Tags</a>
</div>
</div>
<div class=post-container>
<h2 id=question>Question</h2>
<p>Given an m x n integer matrix matrix, if an element is 0, set its entire row and column to 0&rsquo;s, and return the matrix.</p>
<p>You must do it in place.</p>
<h2 id=examples>Examples</h2>
<p>Input: matrix = [[1,1,1],[1,0,1],[1,1,1]]</p>
<p>Output: [[1,0,1],[0,0,0],[1,0,1]]</p>
<hr>
<p>Input: matrix = [[0,1,2,0],[3,4,5,2],[1,3,1,5]]</p>
<p>Output: [[0,0,0,0],[0,4,5,0],[0,3,1,0]]</p>
<h2 id=constraints>Constraints</h2>
<ul>
<li>m == matrix.length</li>
<li>n == matrix[0].length</li>
<li>1 &lt;= m, n &lt;= 200</li>
<li>-2^31 &lt;= matrix[i][j] &lt;= 2^31 - 1</li>
</ul>
<h2 id=explanation>Explanation</h2>
<p>One approach for this problem is, we maintain two <strong>hashmap</strong> to store which row and column should be made 0. We do this by first iterating over the matrix and if the cell is 0 then, we include the row and column number in the hashmap. In the next iteration we for every cell, we check the hashmap if the row or column of the cell is marked to be made 0 in the hashmap, if it is marked we make it 0 or else we leave it as it is.</p>
<p>The space complexity of this approach is O(rows + cols), to store the rows and cols indexes.</p>
<p>For a more efficient space complexity solution is to use the first row and column as the hashmap&rsquo;s. The idea is, if any cell is 0, then we mark the column of the first row and row of the cell column as 0, indicating that in the final result cell row and column should be zero.</p>
<p>Now there is a problem here. The first row and first column cell, if it is made zero we don&rsquo;t if we have to make the row zero or column zero or both. So to avoid this we maintain a variable to check if we have to make the column zero and the first cell is used for making the first zero.</p>
<p>In the filling iteration, we start filling from second row and second column, if we don&rsquo;t do that, let&rsquo;s say the first row is completely made zero so the whole matrix becomes zero which might not be the answer. To better understand this try the second example.</p>
<h2 id=code>Code</h2>
<h3 id=space-complexity---on--m>Space Complexity - O(n + m)</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp>
	<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
	<span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
		<span style=color:#66d9ef>void</span> setZeroes(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> matrix) {
			<span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> matrix.size(), n <span style=color:#f92672>=</span> matrix[<span style=color:#ae81ff>0</span>].size();
			
			<span style=color:#75715e>// hashmap to mark the rows and columns
</span><span style=color:#75715e></span>			<span style=color:#75715e>// to be made 0 or not
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>bool</span> row[m], col[n];
			
			<span style=color:#75715e>// initially we mark all rows and columns as not 0
</span><span style=color:#75715e></span>			memset(row, false, <span style=color:#66d9ef>sizeof</span>(row));
			memset(col, false, <span style=color:#66d9ef>sizeof</span>(col));
			
			<span style=color:#75715e>// first iteration to check if we can make row or column as 0
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>){
				<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>){
					<span style=color:#66d9ef>if</span>(matrix[i][j] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>){
						row[i] <span style=color:#f92672>=</span> true;
						col[j] <span style=color:#f92672>=</span> true;
					}
				}
			}
			
			<span style=color:#75715e>// updating the matrix based on the hashmaps
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>){
				<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>){
					<span style=color:#66d9ef>if</span>(row[i] <span style=color:#f92672>||</span> col[j])
						matrix[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
				}
			}
		}
	};

</code></pre></div><h3 id=space-complexity---o1>Space Complexity - O(1)</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp>
	<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
	<span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
		<span style=color:#66d9ef>void</span> setZeroes(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> matrix) {
			<span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> matrix.size(), n <span style=color:#f92672>=</span> matrix[<span style=color:#ae81ff>0</span>].size();
			<span style=color:#75715e>// variable to check if we need to make the first column zero
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>bool</span> isCol <span style=color:#f92672>=</span> false;
			
			<span style=color:#75715e>// storing the row and column values in the first row and column
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>){
				<span style=color:#66d9ef>if</span>(matrix[i][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
					isCol <span style=color:#f92672>=</span> true;
				<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>){
					<span style=color:#66d9ef>if</span>(matrix[i][j] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
						matrix[i][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, matrix[<span style=color:#ae81ff>0</span>][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
				}
			}
			
			<span style=color:#75715e>// updating the matrix
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>){
				<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>){
					<span style=color:#66d9ef>if</span>(matrix[i][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>||</span> matrix[<span style=color:#ae81ff>0</span>][j] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
						matrix[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
				}
			}
			
			<span style=color:#75715e>// making the first row zero if first cell is zero
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>if</span>(matrix[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
				<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>)
					matrix[<span style=color:#ae81ff>0</span>][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
			
			<span style=color:#75715e>// making the first column zero if isCol variable is true
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>if</span>(isCol)
				<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>)
					matrix[i][<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
		}
	};

</code></pre></div><h2 id=space-and-time-complexity>Space and Time Complexity</h2>
<ul>
<li>Space Complexity - O(1)</li>
<li>Time Complexity - O(2nm)</li>
</ul>
</div>
</body>
</html>