<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<title>sleepingsaint | Trapping Rain Water</title>
<link rel=stylesheet href=https://sleepingsaint.github.io/blog/css/index.css>
</head>
<body>
<div class=navbar-container>
<h1>sleepingsaint</h1>
<div>
<a href=https://sleepingsaint.github.io/blog/>Home</a>
<a href=https://sleepingsaint.github.io/blog/posts/>Posts</a>
<a href=https://sleepingsaint.github.io/blog/series/>Series</a>
<a href=https://sleepingsaint.github.io/blog/tags/>Tags</a>
</div>
</div>
<div class=post-container>
<h2 id=question>Question</h2>
<p>Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.</p>
<h2 id=example>Example</h2>
<p>Input: height = [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6</p>
<p>Input: height = [4,2,0,3,2,5]
Output: 9</p>
<h2 id=constraints>Constraints</h2>
<p>Constraints:</p>
<ul>
<li>n == height.length</li>
<li>0 &lt;= n &lt;= 3 * 104</li>
<li>0 &lt;= height[i] &lt;= 105</li>
</ul>
<h2 id=explanation>Explanation</h2>
<p>On any point, to trap rain water we need to have walls adjacent to the current point with elevation more than the current elevation. In simple terms we need bigger walls than the current wall to trap the rain water. If we could get the value of the largest wall to the left and the right we check if we can trap the rain water on the current wall.</p>
<p>If the largest wall&rsquo;s to the left and right are equal to the current wall height, then we cannot store the water, else if the largest boundary wall&rsquo;s are greater then, we can store trap store of height <strong>min(left largest wall height, right largest wall height) - current wall height</strong>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp>
	<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
	<span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
		<span style=color:#66d9ef>int</span> trap(vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&amp;</span> height) {
			<span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> height.size();

			<span style=color:#75715e>// if number of walls are less than or equal
</span><span style=color:#75715e></span>			<span style=color:#75715e>// to 2 we can&#39;t store the water
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>if</span>(n <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>2</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
			
			<span style=color:#75715e>// arrays to store the left and 
</span><span style=color:#75715e></span>			<span style=color:#75715e>// right largest walls
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span>left <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span>[n];
			<span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span>right <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span>[n];
			
			<span style=color:#75715e>// building the arrays
</span><span style=color:#75715e></span>			left[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> height[<span style=color:#ae81ff>0</span>];
			<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) left[i] <span style=color:#f92672>=</span> max(left[i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>], height[i]);
			right[n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> height[n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>];
			<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>) right[i] <span style=color:#f92672>=</span> max(right[i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>], height[i]);
			
			<span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
			
			<span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>++</span>){
				<span style=color:#75715e>// calculating the amount of water can be trapped
</span><span style=color:#75715e></span>				<span style=color:#66d9ef>int</span> h <span style=color:#f92672>=</span> min(left[i], right[i]);
				ans <span style=color:#f92672>+=</span> h <span style=color:#f92672>-</span> height[i];
			}
			
			<span style=color:#66d9ef>return</span> ans;
		}
	};

</code></pre></div><ul>
<li>Time Complexity: O(n)</li>
<li>Space Complexity: O(2n)</li>
</ul>
</div>
</body>
</html>